# Student Interface Field Name Fixes

## Summary of Issues Fixed

### 1. ClientProfile Field Names
The student interface was using incorrect field names that don't exist in the ClientProfileDB model.

**Correct fields in ClientProfileDB:**
- `id` (string)
- `name` (string)
- `age` (integer)
- `gender` (string) - NOT `pronouns`
- `race` (string)
- `socioeconomic_status` (string)
- `issues` (JSON array of strings)
- `background_story` (text)
- `personality_traits` (JSON array of strings)
- `communication_style` (string)
- `created_by` (string - teacher ID)
- `created_at` (datetime)
- `updated_at` (datetime)

### 2. Fixed in student_practice.py:
- Changed `client.pronouns` → `client.gender`
- Changed `client.scenario` → `client.issues` (with fallback to `client.background_story`)
- Added proper formatting for issues and traits (replacing underscores, title-casing)

### 3. Fixed in test_student_interface_integration.py:
Removed all invalid fields from ClientProfileCreate:
- ❌ `pronouns` → ✅ `gender`
- ❌ `cultural_background` (doesn't exist)
- ❌ `family_structure` (doesn't exist)
- ❌ `education_level` (doesn't exist)
- ❌ `occupation` (doesn't exist)
- ❌ `living_situation` (doesn't exist)
- ❌ `behavioral_patterns` (doesn't exist)
- ❌ `emotional_state` (doesn't exist)
- ❌ `coping_mechanisms` (doesn't exist)
- ❌ `support_network` (doesn't exist)
- ❌ `goals` (doesn't exist)
- ❌ `challenges` (doesn't exist)
- ❌ `strengths` (doesn't exist)
- ❌ `scenario` (doesn't exist)
- ❌ `conversation_style_guide` (doesn't exist)

### 4. Session Field Names (already fixed):
- `session.client_profile_id` (NOT `client_id`)
- `session.started_at` (NOT `created_at` for display)

## The interface now correctly displays:
- Client name
- Age and gender
- Issues (if any) or background story preview
- Personality traits (formatted nicely)
- Active session detection
